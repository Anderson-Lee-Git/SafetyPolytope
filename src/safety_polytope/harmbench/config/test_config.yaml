# Test Configuration for Qwen 1.5B
pipeline:
  name: "harmbench_test_qwen"
  output_dir: "./outputs/harmbench_test"
  harmbench_path: "/cluster/project/krause/chexin/github/HarmBench"
  safety_polytope_path: "/cluster/project/krause/chexin/safety_polytope"

# Single model for testing
models:
  - name: "qwen_1.5b"
    path: "Qwen/Qwen2-1.5B-Instruct"
    hidden_state_layer: 20
    steering:
      lambda_weight: 10
      safe_violation_weight: 5000
      steer_layer: 20
    attack_methods: ["DirectRequest", "GCG"]  # Start with 2 methods for testing

# Slurm configuration
slurm:
  partition: "gpu"
  time_limit: "4:00:00"  # Shorter for testing
  job_timeout_minutes: 10  # Shorter timeout for testing
  check_interval_seconds: 30  # Check more frequently

# Attack generation settings (reduced for testing)
attack_generation:
  behavior_dataset: "./data/behavior_datasets/harmbench_behaviors_text_val.csv"
  start_idx: 0
  end_idx: 5  # Very small for testing
  step_size: 5
  overwrite: true  # Allow overwriting for testing
  verbose: true

# Hidden state extraction settings
hidden_state_extraction:
  layer_number: 20
  part_size: 50  # Smaller parts for testing

# Polytope training configuration (faster for testing)
polytope_training:
  seed: 42
  num_epochs: 10  # Reduced for testing
  learning_rate: 0.01
  entropy_weight: 1.0
  unsafe_weight: 2.0
  margin: 1.0

# Logging configuration
logging:
  level: "DEBUG"  # More verbose for testing
  log_dir: "./logs/harmbench_test"